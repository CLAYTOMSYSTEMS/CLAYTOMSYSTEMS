"use strict";(()=>{var e={};e.id=744,e.ids=[744],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},7147:e=>{e.exports=require("fs")},3685:e=>{e.exports=require("http")},5687:e=>{e.exports=require("https")},7561:e=>{e.exports=require("node:fs")},4492:e=>{e.exports=require("node:stream")},2477:e=>{e.exports=require("node:stream/web")},1017:e=>{e.exports=require("path")},5477:e=>{e.exports=require("punycode")},2781:e=>{e.exports=require("stream")},7310:e=>{e.exports=require("url")},3837:e=>{e.exports=require("util")},1267:e=>{e.exports=require("worker_threads")},9796:e=>{e.exports=require("zlib")},1783:(e,r,t)=>{t.r(r),t.d(r,{originalPathname:()=>h,patchFetch:()=>x,requestAsyncStorage:()=>c,routeModule:()=>u,serverHooks:()=>d,staticGenerationAsyncStorage:()=>l});var s={};t.r(s),t.d(s,{POST:()=>p});var o=t(9303),a=t(8716),n=t(670),i=t(5563);async function p(e){let{input:r}=await e.json(),t=String(r||"").slice(0,4e3);try{let e=(0,i.P)(),r=await e.chat.completions.create({model:i.Q,messages:[{role:"system",content:"Eres Sandra, asistente c\xe1lido y resolutivo de Get Valencia. Responde breve y accionable."},{role:"user",content:t}]}),s=r.choices[0]?.message?.content||"";return new Response(JSON.stringify({reply:s}),{headers:{"Content-Type":"application/json"}})}catch(e){return new Response(JSON.stringify({error:e.message||"error"}),{status:500,headers:{"Content-Type":"application/json"}})}}let u=new o.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/chat/route",pathname:"/api/chat",filename:"route",bundlePath:"app/api/chat/route"},resolvedPagePath:"C:\\Users\\clayt\\CLAYTOMSYSTEMS-1\\websites\\guestsvalencia.es\\src\\app\\api\\chat\\route.ts",nextConfigOutput:"",userland:s}),{requestAsyncStorage:c,staticGenerationAsyncStorage:l,serverHooks:d}=u,h="/api/chat/route";function x(){return(0,n.patchFetch)({serverHooks:d,staticGenerationAsyncStorage:l})}},5563:(e,r,t)=>{t.d(r,{P:()=>a,Q:()=>n});var s=t(4214);let o=null;function a(){if(!o){let e=process.env.OPENAI_API_KEY||"";o=new s.ZP({apiKey:e})}return o}let n=process.env.OPENAI_MODEL_DEFAULT||"gpt-4o-mini"}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[948,520],()=>t(1783));module.exports=s})();